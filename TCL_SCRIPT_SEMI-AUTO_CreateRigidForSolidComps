




*elementtype 5 4; #set elementtype before creating
#*displaycollectorwithfilter components "all" "" 1 0;
if { [hm_entityinfo exist comps HM_MPC_BEAM_SA]} {
	*currentcollector components "HM_MPC_BEAM"
} else {

	*createentity comps name=HM_MPC_BEAM; #create a new components for BEAM ELEMS
}



*createmarkpanel node 1 "select 1 or many nodes"; #select 1 node from the hole
set init_node [hm_getmark node 1];
set length [llength init_node];		# Initialize the value

while {$length > 0} {
	eval *createmark elem 1 $init_node;
	*appendmark nodes 1 "by face";			# Append nodes

	*findmark node 1 1 1 elements 0 2; # FIND ELEMS FROM NODES
	*findmark elems 2 1 1 nodes 0 1;

	#*createmark nodes 1 "by comp name" ^face
	set node [hm_getmark nodes 1];
	*rigidlinkinodecalandcreate 1 0 0 123456
		
	*clearmarkall 1; *clearmarkall 2;
	*createmarkpanel nodes 1 "select 1 node or many";
	set init_nodes [hm_getmark nodes 1]
	set length [llength $init_nodes];
}



*featureangleset 30


*clearmarkall 1, *clearmarkall 2;

unset length init_nodes;
