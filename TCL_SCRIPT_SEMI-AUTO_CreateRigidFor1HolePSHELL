

*elementtype 5 4; #set elementtype before creating
#displaycollectorwithfilter components "all" "" 1 0;
if { [hm_entityinfo exist comps KIEN_TempBeam] == 0} {
	*createentity comps name=KIEN_TempBeam; #create a new components for BEAM ELEMS
}
if { [hm_entityinfo exist comps TempComponent] == 0} {
	*createentity comps name=TempComponent; #create a new components for BEAM ELEMS
}
*currentcollector components "TempComponent"; #make current

#set featureangle for using "by face" properties
#*featureangleset 70

*createlistbypathpanel nodes 1 "select all nodes of hole by path"; #select all nodes from the hole
set init_nodes [hm_getlist nodes 1];
set length [llength init_nodes];		# Initialize the value

while {$length > 0} {
	eval *createmark nodes 1 $init_nodes;
	#*appendmark nodes 1 "by face";			# Append nodes

	*findmark node 1 1 1 elements 0 2; # FIND ELEMS FROM NODES
	*findmark elems 2 1 1 nodes 0 1;

	#*createmark nodes 1 "by comp name" ^face
	set node [hm_getmark nodes 1];
	*rigidlinkinodecalandcreate 1 0 0 123456
		
	*clearmarkall 1; *clearmarkall 2;
	*createlistbypathpanel nodes 1 "select all nodes of hole by path"; #select all nodes from the hole
	set init_nodes [hm_getlist nodes 1]
	set length [llength $init_nodes];
}

*createmark elems 1 "by collector name" TempComponent
*movemark elems 1 KIEN_TempBeam

*createmark components 1 "TempComponent"
*deletemark components 1

#*featureangleset 30
*displaycollectorwithfilter components "all" "" 1 0

unset length init_nodes;
